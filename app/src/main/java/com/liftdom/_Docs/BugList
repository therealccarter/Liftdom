===========================================
============ BUG/TO-DO LIST ====================================================
===========================================

======== ***Completed*** =======================================================
currently on v1.39
----------------------
cleaned up ex history chart a bit
WA: confirmation for deleting exercise instead of "snackbar with "redo" action like"
WA: mark all (exercise) working for non-SS workouts.
WA: mark all (exercise) (need to check if it works with SS, also check out that delay method)
Reframe template page to put more emphasis on pre-made programs
Reps/Weight edit texts now empty on focus if 0
Added end day boolean which shows a TextView and deletes the active template ref
if you don't have an active template, make active template default to checked.
Fixed bug causing assistorHolderFrag listener to continue listening.
WA reps and weight auto clear on click if value is "0"
delete liftdom flair
fixed bug that caused weight to have a limit of 2 after editing set scheme settings
fixed bug - selected templates list of sets/exercises is tiny and fucked.
fixed bug - selected templates slow scroll up
selected template amrap compatibility
WA amrap compat
WA bug fixed - rep/weight settings and ex name changes not being saved to running assistor
WA bug fix - amraps not being stored to workout history/feeds, supersets are defaulting to amrap nani
Workout Assistor amrap compatibility
fixed - workout history is always kg
Future workouts current day is not visible
Future workouts looks like shit. (made to be workoutInfoViewHolder compatible)
Made workoutInfoViewHolder amrap compatible
Show processed percentage in workoutInfoViewHolder
Fixed changing from amrap to numerical not working in template editor
Longer custom ex names
Newest creates custom ex listed first (and used?)
Custom ex names should have uppercase first.
amraps not saving to workout history (and it somehow switched to amrap on its own?)
Changing exercises should save/bug where one ex change was going to nearest superset parent and vice
 versa
freestyle option for WA with no template
freestyle option revised bugs fixed
template editor cap sentences
Various dialogs should be grey not white
Added reminder to select days in each day set
Changed template editor day sets from local variables to instance variables
Added dialog to confirm removal of Day Set from template editor
Hide DoW frag in template editor.
When you post text via send button (chat, comment, etc) push the keyboard down automatically
Many edit texts should be uppercase first (main feed, comments, chats)
Kept default ex from being saved to max list
exercise maxes list should sort by date
Service notification should go to next set on check. And not when unchecking (Go to next set on check for notification)
Template Editor visual improvements
Close service on template editor save
template editor now won't save 0x0@0 supersets
made it so empty 0@0 supersets are saved but aren't inflated into edited workoutprogress in WA
Service amrap compat
Stop service on making template selected template/removing selected template
Service won't go forward into a superset
Service won't go backwards out of a superset
Service won't go to workout done if last set is a superset
Notification should have set numbers (1/3) etc (+ superset support)(removed "reps" in notification to make space)
WA: notification bar should check for last one you were on when you deactivate it (checks last checked)
Added rest time layouts to assistorHolder and TemplateEditor, wired them up, and added rest time
    - variables to the associated model classes.
Switch not remembering position
Had a WA up from thursday, it turned friday, and friday's workout was added onto the WA but kept
    - thursday's information. (tentative, need to test more)
WA is clearing maps when checking rest timer to on
Switch not updating when clicked first time.
Changed input filter to 59 instead of 60 max seconds
Checking off amrap corrupts string
Amrap needs to remove "reps" in notification
Closing main service also closes timer now
Timer needs to reset on check
Timer gets all jacked up and glitchy if quickly checking off items
Timer needs pause and play buttons
Check if we need to handle the event listener in service (seems fine)
Service gets fucked up when WA/running assistor changes (now reads to last checked set)
RTSS take in ex name and set info
FirstTimeTutorial in main feed getCurrentUser was null
Added foreground service permission to manifest
Added compatibility for notifications and for starting a new activity for android 8 and above
RTSS make it turn on the phone
RTSS "dismiss" it if is above lock screen
RTSS make it vibrate for the duration of time
Show snackbar on update timer
Should briefly show checked set then go to next
RTSS needs to show unlock screen on click (not possible, does bring up app after unlock though)
dismiss timer on 0
Need to somehow check if starting notification is really a problem on android 8+ (narrator: "it is")
Rest Timer extra options for vibration, also gotta add lots of piping in fb, wa, template editor
WA: rest times in notification bar
Vibration options need to be updating and have bool like whole rest timer switch
    - changed this to flashing update button because of issues
Added close button to rest timer
Resized rest timer buttons
Fixed notification bell number not updating if 0
Now resets workout if exInfoHashMap is null instead of just sitting there
Disconnected AssistorHolderFrag from live updating UI
Used localBroadcastManager to send actions from Service to AHF (runs initializeViews())
localBroadcastManager update should maybe only update on check/uncheck
shouldn't lose place in notification when WA detects changes. (goes to last checked set)
Service should listen to units
percentages in template editor edit is not converting.
WorkoutAssistor works offline!
Enabled firebase offline for templates, user, running assistor, workout history.
Fixed bug causing notification onClickPendingIntent to not work.
related big problem: split screen fuckage led to template being read as metric (imperial
    false)
Why is split screen killing where I am in app and deleting runningAssistor info?
    - it looks like an old bug where the s/r/w frags are killed and it saves after that point
    - having a hard time going from malformed running assistor to reset workout
    - it's setting templateImperial to false (guessing AHF gets killed and it goes back to default
        values)
    - noProgressInflate gets called for some reason, and because it's dead or out of view,
    visibility returns null.
Removed old Appodeal (2.4.2) (lib files, android manifest) and added new Appodeal 2.6.
Fixed bug: adding exercises in WA not working.
    - deleting exercises works, but if i delete exercises and then add an exercises, all the old
    exercises are added back.
    - it's because instead of doing a normal update I'm directly editing the workoutProgressModel
    variable which isn't being updated really.
    - had to manually add ex name frag and then update fb + initialize.
Added checkForOldData and checkForImperial into onResume instead of onCreate
Added chat/forum to nav drawer.
Made send private message dialog dark.
Made various dialogs consistent (green positive button, on the right).
Migrated auth from googleApiClient to GoogleSignInClient
Added new privacy policy/new GDPR policy text. Appodeal link. Re-ordered intro slides for this.
Fixed rule mistake causing new chat group to not get usernames. (UserList was wrong read rule).
Chat just keeps writing horizontally instead of going to next line.
Added location check for intro and for gdpr consent change in settings. Adding delete stuff.
Added number range checks to intro frag
Need to make sure that the intro slides are added in the new order.
Make sure gdpr is being shown in eu and not elsewhere.
Make sure gdpr is being set true for no eu.
Make sure the intro slides work correctly.
Added bunch of more nodes to delete
Added check in BaseActivity for messed up null user
Added more number range for cm
profile doesn't seem to show anything if it's another user?
made feed comments have line breaks
GDPR:
    Need to make sure that the intro slides are added in the new order.
    Make sure gdpr is being shown in eu and not elsewhere.
    Make sure gdpr is being set true for no eu.
    Make sure the intro slides work correctly.

    - if no, pass to appodeal.
    - if no, don't show any info in profile to other users.
         - and check to see what it looks like when deleted
    - if no, add delete account in settings. Maybe do this for anyone.
After delete, it brought me back to the old home node. So it didn't delete the uid. Everything's
still there. Only thing that changed was the user name/user list/user node.
Search is fucked. Took it out of mainFeedFrag for now. Upgraded for exSelector.
OK where we're at: we need to check out the userProfileDialogActivity.
    - it needs to not show shit when gdpr false
Fixed the keyboard problem - goes up the right way on each main activity frag.
Get the ex history chart page attractive and good looking
    done - IT LOOKS TERRIBLE
    done - it doesn't show low numbers
    done - calorie calc is useless, what does the x axis even mean?
    done - remove calorie calc legend. Look into where it's getting that text.
    done - BMI??? Says at 180 I'd be 25% bf lol. Ok that's standard. Still retarded. Maybe add text saying that?
    done - total weight lifted crashes app
    done - total weight lifted shows multiple entries for each item
    done - need workout option and have chart by highest weight lifted and total weight lifted
    done - the time frame is too large, makes it useless
    done - the items are small and black, unreadable.
    done - clicking on an item should bring up that workout (like workout history page)
    done - x values are inaccurate, which causes problems trying to bring up that days workout
    done - x axis showing weird long/float values not dates
    done - needs unit change functionality
    done - make a pie chart for exercise frequency data
    done - maxes have 3 sorting options: weight, date, alphabetical
    done - maxes should be editable
    done - be able to add maxes (not bw)
    done - it shows just one ex (Bench Press - Barbell Flat) or it shows them with a bunch of duplicates.
    done - add top close buttons to past date dialog and max edit dialogs (bc of ads)
    done - added transparent bottom to max edit dialog bc of ads.
updating user model class in ProfileInfoActivity needs to update opposite unit too.
added limits to profile info settings
WA: adding BW exercises doesn't change to BW instead of weight.
WA: go straight to ex selector since we don't have ex info.
WA: adding BW ex from new ex doesn't go to BW.WA: if bw ex, change reps ime action to finish
Updated some layouts, use that new nice looking button style
HUGE BUG: somewhere other than templateEditorSingleton we have code that is adding one exercise
    in first day set to itself, duplicating that exercise. It isn't present in 4/8 commit.
    OK WE FOUND IT SORT OF: we greyed out
    updateTemplateNode()1025,
    cleanUpState()1279,
    inflateFromRunning()1280.
    Somewhere in there is the bug.
    Maybe in the updateTemplate method when we affect the TemplateEditorSingleton values?
    WHERE WE AT:
        - Full save with two day sets with days selected and one empty ex each: works fine.
        - Full save with two day sets without days selected gets completely fucked - we can't allow this
        - Update with two day sets with days selected and one empty ex each: makes two maps, but the
            first map has the empty ex added twice.
            - if we update AFTER adding the info in, it's fine.
            - if we update first after adding the day set, then update second after the second day
                set, it adds the extra exercise to the first one.
Creating new template from scratch for liftdomapp@gmail didn't save the dates? - added a method that
 adds in date if it's missing.
Fixed bug allowing templates to be republished (and creating duplicates in public node)
----------------------
====================================================
Template Editor:
    done - if bodyweight ex, change reps ime action to finish instead of next.
    done - change rep settings for all set schemes from ex level.
    done - imitate first set scheme's settings when adding new set scheme.
    done - flash add day set in beginning, end when selected.
    done - flash day picker on add day set, end when selected.
    - make snackbar flashes only happen once
    - update template to intermediary node and show that on resume. like WA. rn it gets fucked if
        switching around and any of it dies.
            done - get normal from scratch running to work
            done - get edit from selected templates to work
            - get public templates to work, retaining the correct uids

Adding exercise brings up the keyboard? (might have to do with onResume hide keyboard method)



check that crash in chat 3/26/6:44 (went into chat specific, went to different app, went back to chat, crashed)
============ THE ABSOLUTE MOST IMPORTANT ===================================
============ What are the next most important things for beta release? =====

Get the 3 pre-mades working correctly. Smolov, PPL, PPL_Reddit.
    - (normal ppl and a bodyweight plan could be normal template mode)

update launcher icon, maybe take L off knight, maybe go yellow background black knight. check new
guidelines.

nav back arrow

We may need to do a version check in MainActivity so old version people don't fuck up the
db.

Look into if templates really shouldn't have a space in them.

Change Kmac username in nodes

decide what should be the default: WA, feed, or global feed. (possibly switch to RB for feed?)
    - could possibly do a check (fb/sharedpref) on if they've completed today's workout.
    - if yes, it goes to feed, if no it goes to WA.

Your security rules are not secure. Any authenticated user can steal, modify, or delete data in your database.

YUGE bug, seems for some people their workouts are going into feed but not selfFeed and not into
 globalFeed. Then if they rep that post, it sends the has repped to the nonexistent post in
 selfFeed. Malformed.

check through app for what happens when it dies
    - (https://www.reddit.com/r/androiddev/comments/fni20d/weekly_questions_thread_march_23_2020/fljg33r/)
look into 10mb download? (look into pagination for feeds)(https://www.reddit
.com/r/androiddev/comments/fjnvn6/so_the_instagram_feed_is_just_an_infinite/)
go through your TO-DOs
Look into obfuscation/doing something with those hardcoded ad/cloud strings
============================================================================

============ CURRENTLY WORKING ON (FOR v1.40) ===================================

---- MISC ----
Clicking on profile image or name in chat specific should bring up their profile like in feed.
Check if things like saveTemplateDialog should be noHistory:true
Chat send looks like shit.
Chat just keeps writing horizontally instead of going to next line. This could also be a problem
    anywhere there is a text box.
Now the edit text needs to resize itself.
Shouldn't be able to send premades.

----- Service -----
Make both main service and rest timer dismissible with a swipe (impossible as foreground, may need
    to totally convert it to background service. or add close button.)
add close button to main service. (add close action to main notification)
Notification needs to be expandable (possible with large icon but that's a no-go. could be possible
    with an "action". "actions" are not possible with media style)
Hitting pause on rest notification while it's vibrating closes the services and the app (?)
possibly just update db, don't keep running ref affecting layout (will have to keep updating our own
    - workout progress model since we won't be drawing from the new updated one?)
Probably not going to be disconnecting service, as it would mean sending a massive amount of stuff
    to the service from WA and the only pro is faster clicking which isn't a problem right now.

----- WA -----
add an onCompleteListener to the damn thing (?)
possibly add added exercises to workout (from WA to template)
possibly only update LAYOUT on screen changes (onResume), keep updating DATABASE as it is.
WA/service need to somehow be asynced. It's too laggy.
assistor service class arrayindexoutofboundsexception after changing stuff (weights) and assistor
    resetting
update WA when closing keyboard (to handle changing s/r/w info and saving it)
Wa new sets should be sets dialog first
Hide button for exercises to reduce clutter in WA
Weight edit text WA not defaulting zero to blank
Need to handle changing template mid workout (maybe check running assistor against new template save
 status of checked ones.)
Rounding option for percentages (nearest 5 or nearest to up)
Be able to write in ex/set info and it read and populate it. (needs limitations for abuse, look into
 other place that need this too). Option to add to custom exercises. Possibly auto complete
 exercises ala @'ing in groupme.

----- Template Editor -----
allow rep/weight settings to be changed for all sets of an exercise in template editor. prob in WA too.
Switching apps back and forth fucks up the template editor.
if percentage, actionNext for weight edit text, remember max/format for each new set? especially if
    you did the full set percentage option for the whole exercise. also maybe make 1 the default sets?
decimal support for these percentages.
percentages need decimals.
duplicate template (template name dialog, save, go back to saved programs)
Be able to write in ex/set info and it read and populate it. (needs limitations for abuse, look into
 other place that need this too).
Rearrange order of DoWs with those three horizontal bars touch screen shit. Low priority.

----- Charts/Stats/Tools -----
Weights of workouts should be charted, literally just chart the workouts, it's easier to see progress
    - what does this mean? the total weight lifted?
Ex specific chart is essentially useless
Pie graph of exercises?
exercise maxes list should have search
exercise maxes list should have option to change sort order
exercise maxes list should have option to set max manually (and say it was manual in each item)
need to be able to set maxes
Put workout chart/maxes first, then calculators
when a workout saves, save the name and show that when looking back at past workouts.
    - workout types need to be in completedWorkoutViewHolder/ModelClass (could add a string + \n)
    - also integrate into charts

----- Premades -----
Be able to edit the maxes of a premade
future constructor for premades
Auto populate maxes for w531fb (tm's, so 90% of maxes)
Add P/P/L Reddit
we need to check w531fb and smolov, that shit is fucked.
Premades need future workout calendar compat
Need to have some kind of end condition for premade programs.
Come up with a plan for missing weight in a workout.

----- Non-code Necessities -----
Talk to Firebase about the privacy rules
Revamp the intro to better take care of GDPR and clear up the email privacy stuff.
Rework Appodeal (+ better asking permission) or drop it
Look into size of app (says it's 50mb and it has 20mb of cached info?)
The warning in Android Manifest for indexing
Possible switch to MoPub?
Leak Canary

----- Difficult to Replicate -----
Revise workout looping, not working rest day do workout instead all have a problem being recognized (cannot replicate)
user profile got null (profileHeaderFrag 84)
Had a WA up from thursday, it turned friday, and friday's workout was added onto the WA but kept
    - thursday's information. (tentative, need to test more)
=====================================================

============ ON DECK FOR v1.41+: ===============================================
expand notification to see full ex name and possibly see set information (ie, 1/3)
for offline, we could even save the current template to disk anytime you save a template, so it can
    - be inflated offline. and then save the WA to disk anytime you would update fb. have a warning
    text box flashing at them to hit the finish button when they are in service/wifi range.
save page/state of app for kill in background
make WA the default opener, make feed
hamburger needs back functionality
cheat prevention, have a cap for xp gain. maybe report system if numbers are too high
not logged in can be random node, just rewrite node to become user.
next workout info on rest day/workout finished frag
true chat functionality/workout reminders (check that Firebase support email){
    easy idea for seen/unseen chats. When a user sends a message, for everyone
    in the chat, their chat group gains the "unseen" tag. Any time a user is in
    the frag/firebase recycler gets updated, unseen tag is removed.
}
For premades, you should show a full calendar of the shit. maybe under the page you can just view it
supersetting in WA
rest timer
search for users? bring back discover page
user "flair"
focus dismiss after keyboard dismiss
Fix up the Exercise History Chart page. (simply show exercises' full stuff (like 3x5@95lbs))
add title callbacks for public programs/pre-made programs
show workout count in profile
max editing (* = set manually, not in liftdom workout)(also measurements)
increase edit text max lengths for weight values
decimal percentage functionality
Improve the notification-bar layout.
Add past update text to a dedicated page for that
Add these workout programs{
    Building the Monolith // no app for this
    GZCL
    Conjugate
    Stronger by Science 28 free bench/squat/dead programs.
    Westside for Skinny Bastards.
    PHAT and PHUL
    nSuns
    nSuns 531 LP
    StrongLifts 5x5
    Starting Strength
    GreySkull LP
    Push Pull Legs (Reddit)
    Lvysaurs 4-4-8
    Practical programming
    Madcow 5x5 Training Program
    Texas Method
}
=====================================================

============ BUG LIST =====================================================
==== easier ==========
============
==== harder ==========
(performance){
    (view holder) see if we need to change from multiple hidden views to one inserted view (use methods?)
    (recycler adapter) maybe do the operations currently in here in the assistor saved frag
}
Some algo concerns:
Main concern is about the days check. Doesn't seem to be any. It's working for now but that
    may be because hasRunThroughOnce is making sure we don't see the second copy.
    But what happens if we're on _Tuesday and we run through the other one first?
============

============ TO-DO FEATURE LIST =============================
better competitive stuff (login streaks, leaderboards, etc)
more monetization{
    look into the hiding of banner ads when switching frags to allow for multiple ads in same activity
    look at Zhuinden suggestion (setVisisbleHint? can't remember)
}
better old device support
frame publicity posts as looking for beta testers/early adopters
have the tutorials be made viewable by buttons
ask for good reviews, feedback if not good.
check here for more{
 https://medium.com/@lowcarbrob/0-to-15k-active-users-in-a-month-tips-from-a-indiedev-41d05ab048fd
}

===== lifting/core-related =========
fix up the view of post info in completed workout view holder
alert user if their percentage goes above 100%
implement some sort of "short term memory" type thing for when changing weight options in template editor
try this for notification-bar/lockscreen view difference {
    https://developer.android.com/reference/android/app/
    Notification.Builder.html#setPublicVersion(android.app.Notification)
}
need to make kgs have decimal capability
more percentage work{
    Will just be doing arbitrary weight now.
    Need to have possibility of choosing from maxes (which I also need to expand on)
}
make StatChartsFrag not look like shit (different colors for ex's, stack vertically)
WA update on set addition
use .setPublicVersion to show different lockscreen service view
add share option for finished workout
more quotes in more places
add better running support
redo add-exercise flow in WA (set set-scheme + superset)
add feedback page (or just create chat with each user)
more programs {
    PPL
    5x5
    Starting Strength
    Mad Cow
    Texas Method
}
fill in the Knowledge Center (including ex descriptions in other packages)
Advanced calendar view template editor a la Google Calendar (repeat every other, etc)
======================

===== social/user-related ==========
Add third tab to profile slider (Stats (active template, streak, maxes, etc))
Forum
fix overflow icon (currently is always search bar)
Empty search show all users
Discover tab // or community tab, show highest rated posts from everyone{
    instead, could just add a default checkbox that adds your workout to the public pool.
    the main feed then just has a slider that also shows the global community
}
glide caching in chat (maybe just do it differently, load in parent, get from parent)
chat unread stuff/rehaul (including badge/notifications/unread functionality(bool hasRead))
forum
======================
=====================================================

============ UNREPLICABLE/UNDECIDED =============================================
maybe just have one user profile? (could really utilize methods/delegating here)
sign in text is cut off (API 21 issue)
bottom nav text is cut off (API 21 issue)
=====================================================

============ FUTURE TO-DO LIST =====================================================
change search suggestions to current following (visibility issue?)
password recovery/changing
look into design stuff like font
// be a real companion. personalize the shit...
    // tell them about eating and sleeping and stretching, foam rolling,etc
    // give them options for push notifications and reminders
=====================================================

======== RANDOM STUFF I WROTE DOWN =================================================
"Important steps for scaled success"
-------------------------------------
Fix up the chat, big time.
Public posts tab (posted via public-checkmark in WA)
Take a good look at completion/log-in streak. Need compulsive opening of Liftdom...
Main feed performance/visual rehaul
Scaling of power level needs to be looked at. We need faster leveling at the low levels probably.
Share completed workouts to Facebook/Twitter/Raw copy
Target niche workout programs/subreddits with good sized followings.
Need true running support (detect if running, then have good extra options for it)(simple - ___miles/yds or ___kms/ms)
Leaderboard tab in Assistor Saved (Global/Local)
CompletedWorkoutViewholder - if is the current day, display in minutes or hours ago.
=====================================================